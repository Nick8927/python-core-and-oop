# Функции в Python

## Теоретическая основа для собеседования

### 1. Основные понятия
- **Функция** - блок кода, выполняющий определенную задачу
- **Повторное использование** - избежание дублирования кода
- **Модульность** - разбиение программы на логические части
- **Область видимости** - ограничение доступа к переменным

### 2. Принципы хороших функций
- **Единая ответственность** - одна функция = одна задача
- **Читаемость** - понятные имена и структура
- **Предсказуемость** - одинаковые входы = одинаковые выходы
- **Документирование** - описание работы через docstrings

### 3. Сравнение с методами
| Характеристика | Функция | Метод |
|----------------|---------|-------|
| Принадлежность | Модуль | Класс |
| Вызов | func() | obj.method() |
| Первый аргумент | Нет self | Есть self |

## 1. Синтаксис функций

### Объявление функции
```python
def function_name(parameters):
    """Docstring - описание функции"""
    # Тело функции
    return result
```

### Простой пример
```python
def greet(name):
    """Возвращает приветствие для имени"""
    return f"Hello, {name}!"

# Вызов функции
message = greet("Alice")
print(message)  # Hello, Alice!
```

### Функция без возвращаемого значения
```python
def print_welcome():
    """Печатает приветственное сообщение"""
    print("Welcome to the program!")
    # return None по умолчанию

result = print_welcome()  # None
```

## 2. Параметры и аргументы

### Позиционные параметры
```python
def calculate_sum(a, b):
    """Сумма двух чисел"""
    return a + b

result = calculate_sum(5, 3)  # 8
```

### Именованные аргументы
```python
def create_profile(name, age, city):
    """Создание профиля пользователя"""
    return f"{name}, {age} years, from {city}"

# Позиционные аргументы
profile1 = create_profile("Alice", 25, "Minsk")

# Именованные аргументы  
profile2 = create_profile(age=30, city="Moscow", name="Bob")
```

### Параметры по умолчанию
```python
def power(base, exponent=2):
    """Возведение в степень (по умолчанию квадрат)"""
    return base ** exponent

print(power(3))      # 9 (exponent=2)
print(power(3, 3))   # 27 (exponent=3)
```

## 3. Возврат значений

### Множественный возврат
```python
def min_max(numbers):
    """Возвращает минимальное и максимальное число"""
    return min(numbers), max(numbers)

min_val, max_val = min_max([3, 1, 4, 2])
print(f"Min: {min_val}, Max: {max_val}")  # Min: 1, Max: 4
```

### Ранний возврат
```python
def is_even(number):
    """Проверка четности числа"""
    if not isinstance(number, int):
        return False  # Ранний возврат
    return number % 2 == 0

print(is_even(4))    # True
print(is_even(3))    # False
print(is_even(2.5))  # False
```

## 4. Область видимости

### Локальные и глобальные переменные
```python
global_var = "global"

def test_scope():
    local_var = "local"
    print(global_var)  # Можно читать глобальные переменные
    # global_var = "changed"  # Ошибка без global
    
test_scope()
# print(local_var)  # Ошибка - переменная локальная
```

### Ключевое слово global
```python
counter = 0

def increment():
    global counter
    counter += 1

increment()
print(counter)  # 1
```

## Практические примеры

### Валидация данных
```python
def validate_email(email):
    """Проверяет валидность email адреса"""
    if not isinstance(email, str):
        return False
    return '@' in email and '.' in email.split('@')[-1]

print(validate_email("test@example.com"))  # True
print(validate_email("invalid"))           # False
```

### Обработка списков
```python
def filter_even_numbers(numbers):
    """Фильтрует четные числа"""
    return [x for x in numbers if isinstance(x, int) and x % 2 == 0]

numbers = [1, 2, 3, 4, 5, 6, "seven"]
even = filter_even_numbers(numbers)
print(even)  # [2, 4, 6]
```

### Форматирование вывода
```python
def format_price(price, currency="$", decimals=2):
    """Форматирует цену с валютой"""
    if not isinstance(price, (int, float)):
        raise ValueError("Price must be a number")
    return f"{currency}{price:.{decimals}f}"

print(format_price(19.999))    # $20.00
print(format_price(100, "€"))  # €100.00
```

## Вопросы для собеседования

1. **Чем отличается параметр от аргумента?**
   - Параметр - переменная в объявлении функции, аргумент - значение при вызове

2. **Что такое None и когда функция его возвращает?**
   - None возвращается если нет return или return без значения

3. **Как работает return с несколькими значениями?**
   - Возвращает кортеж, который можно распаковать

4. **Чем отличаются позиционные и именованные аргументы?**
   - Позиционные по порядку, именованные по имени параметра

5. **Что такое область видимости в функциях?**
   - Локальные переменные видны только внутри функции

6. **Когда использовать global?**
   - Для изменения глобальных переменных внутри функции

7. **Как сделать параметр обязательным?**
   - Не указывать значение по умолчанию

8. **Что такое pure function?**
   - Функция без побочных эффектов, зависит только от входных данных

9. **Как документировать функции?**
   - Через docstrings сразу после объявления

10. **Когда использовать lambda функции?**
    - Для простых однострочных операций, как аргументы других функций