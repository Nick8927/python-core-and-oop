# Множества (sets) в Python

## Теоретическая основа для собеседования

### 1. Основные понятия
- **Множество** - неупорядоченная коллекция уникальных элементов
- **Хэшируемость** - все элементы должны быть хэшируемыми
- **Математические операции** - поддержка операций теории множеств

### 2. Ключевые характеристики
- **Уникальность** - дубликаты автоматически удаляются
- **Неупорядоченность** - порядок элементов не гарантируется
- **Изменяемость** - можно добавлять и удалять элементы
- **Хэш-таблица** - основа реализации для быстрого поиска

### 3. Сравнение с другими коллекциями
| Характеристика | Множество | Список | Словарь |
|----------------|-----------|--------|---------|
| Уникальность | ✅ Да | ❌ Нет | ✅ (ключи) |
| Упорядоченность | ❌ Нет | ✅ Да | ✅ (3.7+) |
| Изменяемость | ✅ Да | ✅ Да | ✅ Да |
| Хэшируемость | ❌ Нет | ❌ Нет | ❌ Нет |

## 1. Создание множеств

### Пустое множество
```python
empty_set = set()
print(type(empty_set))  # <class 'set'>
```

### Множество с элементами
```python
# Из литерала
numbers = {1, 2, 3, 3, 4}
print(numbers)  # {1, 2, 3, 4}

# Из итерируемого объекта
from_list = set([1, 2, 2, 3])
from_string = set("hello")
from_range = set(range(5))
```

### Особые случаи
```python
# Множество из словаря (только ключи)
dict_set = set({"a": 1, "b": 2})  # {'a', 'b'}

# Множество кортежей
tuple_set = {(1, 2), (3, 4)}
```

## 2. Основные операции

### Добавление элементов
```python
my_set = {1, 2, 3}

# Метод add()
my_set.add(4)      # {1, 2, 3, 4}
my_set.add(2)      # {1, 2, 3, 4} (дубликат не добавится)

# Метод update()
my_set.update([5, 6, 7])        # {1, 2, 3, 4, 5, 6, 7}
my_set.update("abc")            # {1, 2, 3, 4, 5, 6, 7, 'a', 'b', 'c'}
```

### Удаление элементов
```python
my_set = {1, 2, 3, 4, 5}

# Метод remove() (KeyError если нет элемента)
my_set.remove(3)   # {1, 2, 4, 5}

# Метод discard() (без ошибок)
my_set.discard(10) # {1, 2, 4, 5} (без изменений)

# Метод pop() (случайный элемент)
element = my_set.pop()

# Метод clear()
my_set.clear()     # set()
```

## 3. Операции над множествами

### Базовые операции
```python
A = {1, 2, 3}
B = {3, 4, 5}

# Объединение
union = A | B           # {1, 2, 3, 4, 5}
union = A.union(B)      # {1, 2, 3, 4, 5}

# Пересечение
intersection = A & B    # {3}
intersection = A.intersection(B)

# Разность
difference = A - B      # {1, 2}
difference = A.difference(B)

# Симметрическая разность
sym_diff = A ^ B        # {1, 2, 4, 5}
sym_diff = A.symmetric_difference(B)
```

### Методы модификации
```python
A = {1, 2, 3}
B = {3, 4, 5}

# In-place операции
A.update(B)             # A = {1, 2, 3, 4, 5}
A.intersection_update(B) # A = {3}
A.difference_update(B)   # A = {1, 2}
A.symmetric_difference_update(B) # A = {1, 2, 4, 5}
```

## 4. Проверки и сравнения

### Проверка принадлежности
```python
my_set = {1, 2, 3, 4, 5}

# Оператор in
print(3 in my_set)     # True
print(10 not in my_set) # True

# Размер множества
print(len(my_set))     # 5
```

### Сравнение множеств
```python
A = {1, 2, 3}
B = {1, 2}
C = {1, 2, 3}

# Подмножество
print(B <= A)    # True (B является подмножеством A)
print(B.issubset(A)) # True

# Надмножество  
print(A >= B)    # True (A является надмножеством B)
print(A.issuperset(B)) # True

# Равенство
print(A == C)    # True

# Непересекающиеся множества
D = {4, 5}
print(A.isdisjoint(D)) # True
```

## Практические примеры

### Удаление дубликатов
```python
numbers = [1, 2, 2, 3, 4, 4, 4, 5]
unique = set(numbers)
print(unique)  # {1, 2, 3, 4, 5}

# Обратно в список (порядок не сохраняется)
unique_list = list(set(numbers))
```

### Поиск общих элементов
```python
list1 = [1, 2, 3, 4, 5]
list2 = [4, 5, 6, 7, 8]

common = set(list1) & set(list2)
print(common)  # {4, 5}
```

### Фильтрация данных
```python
# Быстрая проверка принадлежности
valid_users = {"alice", "bob", "charlie"}
user_input = "alice"

if user_input in valid_users:
    print("Доступ разрешен")
else:
    print("Доступ запрещен")
```

### Симметрическая разность для поиска изменений
```python
old_config = {"setting1", "setting2", "setting3"}
new_config = {"setting2", "setting3", "setting4"}

changed = old_config ^ new_config
print(f"Измененные настройки: {changed}")  # {'setting1', 'setting4'}
```

## Вопросы для собеседования

1. **Чем множество отличается от списка?**
   - Уникальность элементов, неупорядоченность, быстрый поиск

2. **Какие типы данных могут быть элементами множества?**
   - Только хэшируемые неизменяемые типы: числа, строки, кортежи

3. **Как создать множество из списка с сохранением порядка?**
   - Через dict.fromkeys(): list(dict.fromkeys(lst))

4. **Чем отличается remove() от discard()?**
   - remove() вызывает KeyError если элемента нет, discard() - нет

5. **Как работают хэш-таблицы в множествах?**
   - O(1) средняя сложность операций поиска и добавления

6. **Когда использовать множества вместо списков?**
   - Когда нужна проверка принадлежности или уникальность элементов

7. **Что вернет pop() для пустого множества?**
   - KeyError: 'pop from an empty set'

8. **Как найти разницу между двумя списками?**
   - set(list1) - set(list2) для элементов только в первом списке

9. **Чем отличается union() от update()?**
   - union() возвращает новое множество, update() изменяет исходное

10. **Как проверить, что два множества не пересекаются?**
    - isdisjoint() или len(A & B) == 0