# Методы словарей в Python

## Теоретическая основа для собеседования

### 1. Основные понятия
- **Словарь** - ассоциативная коллекция ключ-значение
- **Методы словаря** - операции для работы с данными
- **Представления (views)** - динамические объекты keys(), values(), items()

### 2. Классификация методов
- **Доступ к данным** - get(), setdefault()
- **Модификация** - update(), pop(), popitem(), clear()
- **Копирование** - copy()
- **Информационные** - keys(), values(), items()

### 3. Особенности представлений
- **Динамичность** - отражают текущее состояние словаря
- **Итерируемость** - можно использовать в циклах
- **Операции множеств** - для keys() доступны set-операции

## 1. Методы доступа к данным

### Метод get()
```python
person = {"name": "Alice", "age": 30}

# Безопасный доступ
print(person.get("name"))        # Alice
print(person.get("job"))         # None
print(person.get("job", "unknown"))  # unknown
```

### Метод setdefault()
```python
# Устанавливает значение по умолчанию если ключа нет
person.setdefault("city", "Minsk")
print(person)  # {'name': 'Alice', 'age': 30, 'city': 'Minsk'}

# Если ключ есть - возвращает текущее значение
city = person.setdefault("city", "Moscow")
print(city)  # Minsk
```

## 2. Методы модификации

### Метод update()
```python
dict1 = {"a": 1, "b": 2}
dict2 = {"b": 3, "c": 4}

# Обновление из другого словаря
dict1.update(dict2)
print(dict1)  # {'a': 1, 'b': 3, 'c': 4}

# Обновление из списка кортежей
dict1.update([("d", 5), ("e", 6)])
print(dict1)  # {'a': 1, 'b': 3, 'c': 4, 'd': 5, 'e': 6}
```

### Метод pop()
```python
person = {"name": "Alice", "age": 30, "city": "Minsk"}

# Удаление с возвратом значения
age = person.pop("age")
print(age)    # 30
print(person) # {'name': 'Alice', 'city': 'Minsk'}

# Значение по умолчанию
job = person.pop("job", "unemployed")
print(job)    # unemployed
```

### Метод popitem()
```python
# Удаляет и возвращает последнюю добавленную пару
person = {"name": "Alice", "age": 30, "city": "Minsk"}
key, value = person.popitem()
print(f"{key}: {value}")  # city: Minsk
print(person)             # {'name': 'Alice', 'age': 30}
```

### Метод clear()
```python
person = {"name": "Alice", "age": 30}
person.clear()
print(person)  # {}
```

## 3. Методы копирования

### Метод copy()
```python
original = {"a": 1, "b": [2, 3]}
copied = original.copy()

print(id(original) != id(copied))  # True (разные объекты)

# Поверхностное копирование - вложенные объекты те же
print(id(original["b"]) == id(copied["b"]))  # True
```

## 4. Методы представлений

### keys() - представление ключей
```python
person = {"name": "Alice", "age": 30}
keys_view = person.keys()
print(keys_view)  # dict_keys(['name', 'age'])

# Динамическое обновление
person["city"] = "Minsk"
print(keys_view)  # dict_keys(['name', 'age', 'city'])
```

### values() - представление значений
```python
values_view = person.values()
print(values_view)  # dict_values(['Alice', 30, 'Minsk'])
```

### items() - представление пар
```python
items_view = person.items()
print(items_view)  # dict_items([('name', 'Alice'), ('age', 30), ('city', 'Minsk')])
```

## 5. Итерация по словарю

### Перебор ключей
```python
person = {"name": "Alice", "age": 30, "city": "Minsk"}

# По умолчанию - перебор ключей
for key in person:
    print(key)

# Явно через keys()
for key in person.keys():
    print(key)
```

### Перебор значений
```python
for value in person.values():
    print(value)
```

### Перебор пар ключ-значение
```python
for key, value in person.items():
    print(f"{key}: {value}")
```

## Практические примеры

### Обработка конфигурации
```python
config = {"host": "localhost", "port": 8080}

# Безопасное получение значений
host = config.get("host", "127.0.0.1")
timeout = config.get("timeout", 30)

print(f"Подключение к {host}:{config['port']}, timeout: {timeout}")
```

### Слияние словарей с приоритетом
```python
defaults = {"theme": "light", "language": "en", "notifications": True}
user_settings = {"theme": "dark", "timezone": "UTC"}

# Обновляем defaults настройками пользователя
final_settings = defaults.copy()
final_settings.update(user_settings)
print(final_settings)
```

### Подсчет статистики
```python
text = "hello world hello python"
words = text.split()

word_count = {}
for word in words:
    word_count[word] = word_count.get(word, 0) + 1

print(word_count)  # {'hello': 2, 'world': 1, 'python': 1}
```

### Фильтрация словаря
```python
scores = {"Alice": 85, "Bob": 92, "Charlie": 78, "Diana": 95}

# Только высокие scores
high_scores = {name: score for name, score in scores.items() if score >= 90}
print(high_scores)  # {'Bob': 92, 'Diana': 95}
```

## Вопросы для собеседования

1. **Чем отличается get() от прямого доступа по ключу?**
   - get() не вызывает KeyError, возвращает default значение

2. **Когда использовать setdefault()?**
   - Для инициализации значений с default при первом обращении

3. **Как работает поверхностное копирование?**
   - Копируется только первый уровень, вложенные объекты остаются ссылками

4. **Что такое представления (views) словаря?**
   - Динамические объекты, отражающие текущее состояние словаря

5. **Как эффективно искать ключ по значению?**
   - Через генератор: next(k for k, v in dict.items() if v == target)

6. **Чем update() отличается от | оператора?**
   - update() изменяет исходный словарь, | создает новый

7. **Как отследить порядок элементов в словаре?**
   - В Python 3.7+ порядок сохраняется, можно использовать list(dict.items())[0]

8. **Когда использовать popitem()?**
   - Для обработки элементов в порядке LIFO (стек)

9. **Как сделать глубокую копию словаря?**
   - import copy; copy.deepcopy(dict)

10. **Какие операции доступны для keys() view?**
    - Множественные операции: &, |, -, ^
    - Например: dict1.keys() & dict2.keys()