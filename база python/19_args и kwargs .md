# Аргументы *args и **kwargs в Python

## Теоретическая основа для собеседования

### 1. Основные понятия
- **\*args** — позволяет функции принимать **произвольное количество позиционных аргументов**.  
  Все они упаковываются в **кортеж**.
- **\*\*kwargs** — позволяет функции принимать **произвольное количество именованных аргументов**.  
  Все они упаковываются в **словарь**.
- **\*** и **\*\*** используются не только в определении функции, но и при **распаковке коллекций**.

### 2. Преимущества использования
- Повышают **гибкость** функций.  
- Позволяют **комбинировать** фиксированные и переменные аргументы.  
- Упрощают передачу параметров между функциями и при работе с API.

---

## 1. Позиционные аргументы (*args)

### Пример базового использования
```python
def sum_values(*args):
    """Функция принимает любое количество чисел и возвращает их сумму"""
    total = 0
    for num in args:
        total += num
    return total

# Передача нескольких аргументов
result = sum_values(1, 2, 3, 4, 5)
print(result)  # 15
```

### Передача кортежа с распаковкой
```python
my_numbers = (1, 2, 3, 4, 5)
result = sum_values(*my_numbers)
print(result)  # 15
```

### Доступ по индексу
```python
print(my_numbers[0])  # 1
print(my_numbers[2])  # 3
```

---

## 2. Ключевые аргументы (**kwargs)

### Пример базового использования
```python
def print_info(**kwargs):
    """Выводит ключи и значения, переданные как именованные аргументы"""
    for key, value in kwargs.items():
        print(f"{key}: {value}")

print_info(name="Alice", age=25, city="New York")
# name: Alice
# age: 25
# city: New York
```

### Работа со словарём
```python
data = {"name": "Bob", "age": 30, "city": "Paris"}
print_info(**data)
# name: Bob
# age: 30
# city: Paris
```

---

## 3. Комбинированное использование *args и **kwargs

### Порядок передачи аргументов
1. **Обычные (позиционные)**  
2. **\*args**  
3. **Ключевые с указанием имени**  
4. **\*\*kwargs**

### Пример
```python
def example_func(*args, **kwargs):
    for arg in args:
        print(f"Позиционный аргумент: {arg}")
    for key, value in kwargs.items():
        print(f"Ключевой аргумент {key}: {value}")

example_func(1, 2, 3, name="Alice", age=25)
```

### Ошибка при нарушении порядка
```python
# example_func(name="Alice", 1, 2)  # ❌ Ошибка: позиционные после именованных
```

---

## 4. Запаковка и распаковка с помощью * и **

### Пример запаковки
```python
x, *y = (1, 2, 3, 4, 5, 6)
print(x, y, type(y))  # 1 [2, 3, 4, 5, 6] <class 'list'>

*q, w = (2, 4, 5, 6, 7)
print(q, w)  # [2, 4, 5, 6] 7
```

### Пример распаковки
```python
lst = [2, 4, 6]
unpacked_lst = (*lst,)   # распакуем список в кортеж
print(unpacked_lst, type(unpacked_lst))  # (2, 4, 6) <class 'tuple'>
```

---

## 5. Распаковка нескольких коллекций

### Объединение списков и итерируемых объектов
```python
unpack = [*(range(1, 5)), *("Hi", "Man")]
print(unpack)
# [1, 2, 3, 4, 'Hi', 'Man']
```

### Работа со словарями
```python
dict_1 = {1: "a", 2: "b", 3: "c", 4: "d"}

# Распаковка ключей
unpacked_keys = {*dict_1}
print(unpacked_keys)  # {1, 2, 3, 4}

# Распаковка значений
unpacked_values = {*dict_1.values()}
print(unpacked_values)  # {'a', 'b', 'c', 'd'}

# Распаковка пар (ключ, значение)
unpacked_items = {*dict_1.items()}
print(unpacked_items)  # {(1, 'a'), (2, 'b'), (3, 'c'), (4, 'd')}
```

---

## 6. Объединение словарей с помощью **
```python
dict_1 = {1: "a", 2: "b", 3: "c", 4: "d"}
dict_2 = {5: "e", 6: "end"}

# Объединение в один словарь
merged_dict = {**dict_1, **dict_2}
print(merged_dict)
# {1: 'a', 2: 'b', 3: 'c', 4: 'd', 5: 'e', 6: 'end'}
```

---

## 7. Практические примеры

### Гибкая функция логирования
```python
def log_event(event, *args, **kwargs):
    print(f"Событие: {event}")
    print("Доп. данные:", args)
    print("Параметры:", kwargs)

log_event("Login", "User123", "Success", ip="127.0.0.1", browser="Chrome")
```

### Универсальный обработчик API
```python
def api_call(endpoint, *args, **kwargs):
    print(f"Вызов API: {endpoint}")
    print(f"args: {args}")
    print(f"kwargs: {kwargs}")

api_call("/users", "token123", method="GET", timeout=5)
```

---

## Вопросы для собеседования

1. **Что делает оператор * в определении функции?**  
   - Собирает все позиционные аргументы в кортеж.

2. **Что делает оператор ** в определении функции?**  
   - Собирает все именованные аргументы в словарь.

3. **Можно ли использовать *args и **kwargs одновременно?**  
   - Да, но *args должны идти перед **kwargs.

4. **Как распаковать список при вызове функции?**  
   - Использовать *список, например func(*[1, 2, 3]).

5. **Как распаковать словарь при вызове функции?**  
   - Использовать **словарь, например func(**data).

6. **Что произойдет, если передать одинаковые ключи при объединении словарей через **?**  
   - Будет использовано последнее значение.

7. **Можно ли использовать * и ** вне функций?**  
   - Да, для распаковки коллекций и объединения структур данных.

8. **Какой тип данных формируется при использовании *args?**  
   - Кортеж.

9. **Какой тип данных формируется при использовании **kwargs?**  
   - Словарь.

10. **Зачем использовать *args и **kwargs в API или библиотеках?**  
    - Для обработки неизвестного заранее числа параметров и создания гибких интерфейсов.

---

##  Подсказка для собеседования

- **Вопрос:** Можно ли передавать одновременно обычные, *args и **kwargs параметры?  
  **Ответ:** Да, в порядке: обязательные → *args → ключевые → **kwargs.

- **Вопрос:** Что произойдет, если не передать аргументы в *args или **kwargs?  
  **Ответ:** *args будет пустым кортежем, **kwargs — пустым словарем.

- **Вопрос:** Можно ли использовать * для распаковки строки?  
  **Ответ:** Да, получится список символов.

- **Вопрос:** Почему распаковка удобна при работе с API и конфигами?  
  **Ответ:** Позволяет передавать параметры гибко, без жесткой структуры.
